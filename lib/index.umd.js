!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("moment"),require("axios")):"function"==typeof define&&define.amd?define(["exports","moment","axios"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).$utils={},e.moment,e.axios)}(this,(function(e,t,n){"use strict";var r="data:image/png;base64,",i=Object.freeze({__proto__:null,base64ImgPrefix:r}),o=Object.prototype.toString,a=function(e){return void 0!==e},u=function(e,t){return o.call(e)==="[object ".concat(t,"]")},s=function(e){return void 0!==e},c=function(e){return!s(e)},l=function(e){return null!==e&&u(e,"Object")},f=function(e){return null===e||(void 0===e||(j(e)||D(e)?0===e.length:e instanceof Map||e instanceof Set?0===e.size:!!l(e)&&0===Object.keys(e).length))},g=function(e){return!f(e)},d=function(e){return u(e,"Date")},p=function(e){return null===e},m=function(e){return c(e)&&p(e)},v=function(e){return c(e)||p(e)},y=function(e){return u(e,"Number")},h=function(e){return u(e,"Promise")&&l(e)&&b(e.then)&&b(e.catch)},D=function(e){return u(e,"String")},b=function(e){return"function"==typeof e},w=function(e){return u(e,"Boolean")},O=function(e){return u(e,"RegExp")},j=function(e){return e&&Array.isArray(e)},S=function(e){return"undefined"!=typeof window&&u(e,"Window")},N=function(e){return l(e)&&!!e.tagName},_=function(e){return u(e,"Map")},E="undefined"==typeof window,M="undefined"!=typeof window,T=function(e){return/(((^https?:(?:\/\/)?)(?:[-:&=\+\$,\w]+@)?[A-Za-z0-9.-]+(?::\d+)?|(?:www.|[-:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&%@.\w_]*)#?(?:[\w]*))?)$/.test(e)},z=function(){return window.matchMedia("(prefers-color-scheme: dark)").matches},I=function(e){return/(https?:\/\/|data:image\/).*?\.(png|jpg|jpeg|gif|svg|webp|ico)/gi.test(e)},U=function(e){return""===e||null==e},A=Object.freeze({__proto__:null,is:u,isArray:j,isBoolean:w,isClient:M,isDark:z,isDate:d,isDef:s,isElement:N,isEmpty:f,isEmptyVal:U,isFunction:b,isImgPath:I,isMap:_,isNotEmpty:g,isNull:p,isNullAndUnDef:m,isNullOrUnDef:v,isNumber:y,isObject:l,isPromise:h,isRegExp:O,isServer:E,isString:D,isUnDef:c,isUrl:T,isWindow:S,test:a});function x(e,t){void 0===t&&(t="Y-M-D h:m:s");var n=new Date(e),r={Y:n.getFullYear(),M:n.getMonth()+1<10?"0".concat(n.getMonth()+1):n.getMonth()+1,D:n.getDate()<10?"0".concat(n.getDate()):n.getDate(),h:n.getHours()<10?"0".concat(n.getHours()):n.getHours(),m:n.getMinutes()<10?"0".concat(n.getMinutes()):n.getMinutes(),s:n.getSeconds()<10?"0".concat(n.getSeconds()):n.getSeconds()};return t.split("").map((function(e){for(var t in r)e===t&&(e=r[t].toString());return e})).join("")}function P(e){return!isNaN(e)&&e===new Date(Number(e)).getTime()}function $(e){return Date.parse("".concat(+new Date(e)))/1e3}function k(e){if(!e)return null;var n=x(e).replace(/\-/g,"/");return t(new Date(n))}function Y(e,t){if(void 0===t&&(t="YYYY-MM-DD HH:mm:ss"),f(e))return console.warn("getDateStr: date为空"),"";var n=new Date(e);if(isNaN(null==n?void 0:n.getTime()))return console.warn("getDateStr: 无效的日期格式"),"";var r=k(n.getTime());return r?r.format(t):(console.warn("getDateStr: 无效的日期格式"),"")}function H(e,t){if(void 0===t&&(t=!1),f(e))return console.warn("isExpire: date为空"),!1;var n=Date.now(),r=new Date(e);return isNaN(null==r?void 0:r.getTime())?(console.warn("isExpire: 无效的日期格式"),!1):n>(t?r.getTime():r.setHours(23,59,59,999))}var B=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];function C(e,n){void 0===n&&(n={format:"YYYY-MM-DD HH:mm:ss"});var r=new Date(e);if(d(r)){var i=r.getFullYear(),o=r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1,a=r.getDate()<10?"0"+r.getDate():r.getDate(),u=r.getHours()<10?"0"+r.getHours():r.getHours(),s=r.getMinutes()<10?"0"+r.getMinutes():r.getMinutes(),c=r.getSeconds()<10?"0"+r.getSeconds():r.getSeconds(),l=r.getDay();return{year:i,month:o,day:a,hour:u,minute:s,second:c,time:u+":"+s+":"+c,date:i+"年"+o+"月"+a+"日",week:B[l],dataStr:t(r).format(n.format)}}console.warn("getTimeAndWeek：无效的日期格式")}var R=Object.freeze({__proto__:null,getDateAttrs:C,getDateMoment:k,getDateStr:Y,isExpire:H,isTimestamp:P,timesToStamp:$,timestampToTime:x});function F(e,t){if(!e)return"";var n=e.length;if(!t||0===t.length)return"*".repeat(n);var r=new Array(n).fill(!1);t.forEach((function(e){e>=0&&e<n&&(r[e]=!0)}));for(var i="",o=0;o<n;o++)i+=r[o]?"*":e[o];return i}function L(e){if(!e)return console.log("nameDesensitize：输入值为空"),"";var t=e.length;return 2===t?e.replace(/^(.).$/,"$1*"):t>2?e.replace(/^(.).+(.)$/,"$1*$2"):e}function V(e,t){return e?F(e=e.toString(),t=t||[3,e.length-4]):(console.log("nphoneDesensitize：输入值为空"),"")}function J(e,t){if(void 0===t&&(t=1),!e)return console.log("identityDesensitize：输入值为空"),"";if(!t)return console.log("identityDesensitize：mode为空"),"";if(1===t){var n=/^(.{3}).*(\d{4})$/;return e.replace(n,"$1****$2")}if(2===t){n=/^(.{2})(?:\d+)(.{2})$/;return e.replace(n,"$1************$2")}return""}var Q=Object.freeze({__proto__:null,desensitizeValue:F,identityDesensitize:J,nameDesensitize:L,phoneDesensitize:V}),W=function(){return W=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},W.apply(this,arguments)};function q(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function K(e){void 0===e&&(e={});for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0,u=Object.entries(Object.getOwnPropertyDescriptors(o));a<u.length;a++){var s=u[a],c=s[0],l=s[1];Object.defineProperty(e,c,l)}return e}function Z(e){void 0===e&&(e={});for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0,u=Object.entries(Object.getOwnPropertyDescriptors(o));a<u.length;a++){var s=u[a],c=s[0],f=s[1];"value"in f&&l(f.value)?Object.defineProperty(e,c,W(W({},f),{value:Z(e[c],f.value)})):Object.defineProperty(e,c,f)}return e}function G(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)e.hasOwnProperty(n)&&(t[n]=G(e[n]));return t}function X(e){return!!l(e)&&0===Object.keys(e).length}function ee(e){return!!l(e)&&Object.keys(e).length>0}"function"==typeof SuppressedError&&SuppressedError;var te=Object.freeze({__proto__:null,assign:K,deepAssign:Z,deepCopy:G,isObjEmpty:X,isObjNotEmpty:ee}),ne={getItem:function(e){var t=localStorage.getItem(e);return JSON.parse(t)},setItem:function(e,t){localStorage.setItem(e,JSON.stringify(t))}},re={getItem:function(e){var t=sessionStorage.getItem(e);return JSON.parse(t)},setItem:function(e,t){sessionStorage.setItem(e,JSON.stringify(t))}},ie=Object.freeze({__proto__:null,local:ne,session:re});function oe(){var e=location.search.split("?")[1];if(!e)return{};var t=e.split("&").reduce((function(e,t){var n=t.split("="),r=n[0],i=n[1];return e[r]=i,e}),{});return t}function ae(e){var t=[];for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n],i=encodeURIComponent(n),o=encodeURIComponent(r);t.push("".concat(i,"=").concat(o))}return t.join("&")}function ue(e,t){n(e,{responseType:"blob"}).then((function(e){var n=e.data,r=window.URL.createObjectURL(n),i=document.createElement("a");i.href=r;var o=t||"文件";i.setAttribute("download",o),document.body.appendChild(i),i.click()}))}function se(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=1),void 0===n&&(n=10),n*(t-1)+e+1}function ce(e,t){var n=e.find((function(e){return e.id==t}));return(null==n?void 0:n.name)||"-"}function le(e,t){return e.find((function(e){return e.id==t}))||{}}function fe(e){return e.username||e.deptName||e.roleItem||""}function ge(e,t){for(var n=e,r=0,i=t.split(".");r<i.length;r++){var o=i[r];if(!n||"object"!=typeof n||!(o in n))return;n=n[o]}return n}function de(e,t,n){if(e){var r=n||{},i=r.children,o=void 0===i?"list":i,a=r.additional,u=void 0===a?{}:a,s=function(e,n){t&&t(e,n),e[o]&&e[o].length&&e[o].forEach((function(e){return s(e,n)}))},c=function(e,n){0!==e.length&&e.forEach((function(e){t&&t(e,n),e[o]&&e[o].length&&c(e[o],n)}))};"[object Array]"===Object.prototype.toString.call(e)?c(e,u):s(e,u)}}function pe(e,t){var n=t||{},r=n.key,i=void 0===r?"id":r,o=n.children,a={};return de(e,(function(e){a[e[i]]=e}),{children:void 0===o?"children":o,additional:{}}),a}function me(e){var t=e.treeData,n=e.id,r=e.config||{},i=r.key,o=void 0===i?"id":i;r.children;var a=function(e,t){function n(e,t,r){if(!e)return null;if(e[o]===t)return r.push(e),r;for(var i=0,a=(null==e?void 0:e.children)||[];i<a.length;i++){var u=n(a[i],t,q(q([],r,!0),[e],!1));if(u)return u}return null}for(var r=0,i=e;r<i.length;r++){var a=n(i[r],t,[]);if(a)return a}}(t,n);return a}function ve(e,t){function n(e,t){var r;if(!e)return null;if(t(e)){var i=null===(r=e.children)||void 0===r?void 0:r.map((function(e){return n(e,t)})).filter(Boolean);return W(W({id:e.id},e),{children:i})}return null}return e.map((function(e){return n(e,t)})).filter(Boolean)}var ye=Object.freeze({__proto__:null,downLoadFile:ue,filterTree:ve,findIdItem:le,findIdName:ce,forEachTree:de,getOrdinalKey:se,getOrgName:fe,getTreeLink:me,getTreeMap:pe,getUrlQuery:oe,getValueByExpression:ge,objToQueryString:ae});e.assign=K,e.base64ImgPrefix=r,e.constUtil=i,e.dateUtil=R,e.deepAssign=Z,e.deepCopy=G,e.desensitizeUtil=Q,e.desensitizeValue=F,e.downLoadFile=ue,e.filterTree=ve,e.findIdItem=le,e.findIdName=ce,e.forEachTree=de,e.getDateAttrs=C,e.getDateMoment=k,e.getDateStr=Y,e.getOrdinalKey=se,e.getOrgName=fe,e.getTreeLink=me,e.getTreeMap=pe,e.getUrlQuery=oe,e.getValueByExpression=ge,e.identityDesensitize=J,e.is=u,e.isArray=j,e.isBoolean=w,e.isClient=M,e.isDark=z,e.isDate=d,e.isDef=s,e.isElement=N,e.isEmpty=f,e.isEmptyVal=U,e.isExpire=H,e.isFunction=b,e.isImgPath=I,e.isMap=_,e.isNotEmpty=g,e.isNull=p,e.isNullAndUnDef=m,e.isNullOrUnDef=v,e.isNumber=y,e.isObjEmpty=X,e.isObjNotEmpty=ee,e.isObject=l,e.isPromise=h,e.isRegExp=O,e.isServer=E,e.isString=D,e.isTimestamp=P,e.isUnDef=c,e.isUrl=T,e.isUtil=A,e.isWindow=S,e.local=ne,e.nameDesensitize=L,e.objToQueryString=ae,e.objectUtil=te,e.phoneDesensitize=V,e.session=re,e.storageUtil=ie,e.test=a,e.timesToStamp=$,e.timestampToTime=x,e.toolUtil=ye}));
